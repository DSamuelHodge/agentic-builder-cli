# {{ pascal_name }} Agent
# Generated by restack-gen on {{ now().strftime('%Y-%m-%d') }}

from restack_ai import agent, log
from restack_ai.agent import agent_info


@agent.defn()
class {{ pascal_name }}Agent:
    """{{ pascal_name }} agent for {{ app_name }}."""

    @agent.event
    async def {{ snake_name }}_event(self, event: dict) -> dict:
        """Handle {{ snake_name }} event."""
        log.info("{{ pascal_name }}Agent received event", event=event)
        return {"status": "processed", "agent": "{{ pascal_name }}"}

    @agent.run
    async def run(self, input_data: dict) -> dict:
        """Run the {{ snake_name }} agent."""
        log.info("{{ pascal_name }}Agent starting", input=input_data)

        # Agent logic here
        result = {
            "message": "Hello from {{ pascal_name }}Agent",
            "input": input_data,
            "agent": "{{ pascal_name }}"
        }

        log.info("{{ pascal_name }}Agent completed", result=result)
        return result


if __name__ == "__main__":
    # For local development
    import asyncio

    async def main():
        agent_info()
        agent_instance = {{ pascal_name }}Agent()
        result = await agent_instance.run({"test": True})
        print(f"Agent result: {result}")

    asyncio.run(main())